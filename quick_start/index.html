<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://share.streamlit.io/lcalmbach/st-piper/app.py/quick_start/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Tutorial - Fontus 0.1.0</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Tutorial";
    var mkdocs_page_input_path = "quick_start.md";
    var mkdocs_page_url = "/lcalmbach/st-piper/app.py/quick_start/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Fontus 0.1.0</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../data/data/">Data</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Plots</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../plots/plots_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../plots/piper/">Piper</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../plots/map/">Maps</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">analyses</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../analyses/intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../analyses/mann_kendall/">Mann Kendall</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Calculators</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../calculators/intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../calculators/fmw_conversion/">Formula Weight Conversion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../calculators/fmw_calculation/">Formula Weight Calculation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../calculators/sar/">Irrigation Water Quality</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../calculators/saturation_index/">Saturation Index</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Tutorial</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#exploring-the-demo-dataset">Exploring the demo dataset</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#group-by-plot-option">Group by Plot Option</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#use-of-markers">Use of Markers</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#upload-your-own-data">Upload your own Data</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About Fontus</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../version_history/">Release notes</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Fontus 0.1.0</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Tutorial</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="quick-start">Quick Start</h1>
<h2 id="exploring-the-demo-dataset">Exploring the demo dataset</h2>
<p>The demo dataset includes 54 samples from the groundwater monitoring network of Basel (Switzerland). The raw data can be found on the city's <a href="https://data.bs.ch/explore/dataset/100067">Opendata portal</a>.</p>
<p>Inspecting the table and fields in the <code>Load Data</code> section, you will note that the dataset includes a station-name, coordinates, sampling date and the major ions calcium magnesium, sodium, potassium, chloride, sulfate, bicarbonate, and carbonate. The data table has basic interactivity features: By hovering over the header cells, you can change the column width, and clicking on a header cell allows you to sort the table ascending and descending according to the values in this column. If you wish to inspect the data with your locally installed editor or spreadsheet software, you can download the table by clicking the <code>Download data as CSV</code> button.</p>
<p>To get an impression of the Piper diagram using the initial settings, navigate to the <code>Show Plot</code> section and press the <code>Plot</code> button above the Documentation link in the sidebar. You will see the following output:</p>
<p><img alt="" src="../img/quickstart01.png" /></p>
<p>Hovering over the markers in the plot will display a tooltip with the values for this sample. </p>
<p><img alt="" src="../img/quickstart02.png" /></p>
<p>"Interacting with closely grouped or overlapping data points can be challenging. Fortunately, the zoom tool comes in handy in such situations. To use it, simply activate the zoom icon <img alt="" src="../img/bokeh_toolbox_zoom_rect.png" /> in the toolbar located to the right of the plot. Then, zoom in on the section with overlapping symbols. This will result in an enlarged plot where it is much easier to select and view individual markers and their respective compositions. To restore the original setting, press on the <img alt="" src="../img/bokeh_toolbox_reset.png" /> icon in the plots toolbox.</p>
<p><img alt="" src="../img/quickstart03.png" /></p>
<h3 id="group-by-plot-option">Group by Plot Option</h3>
<p>To inspect analyses from a single station one by one, proceed as follows:
In the filter box in the sidebar, select one or several stations. Then press plot again to display the diagram based on the filtered data. If you wish to inspect every single station, you should use the <code>Group plot by</code> option from the <code>Plot settings</code> tab. Select a station from the list of available group-by-fields to generate a separate plot for each expression found in the station. </p>
<p><img alt="" src="../img/quickstart04.png" /></p>
<p>There are two ways of assigning text to each diagram showing which station is represented. Use the title option and include the group-by-field within curly brackets. After pressing the <code>Plot</code> button again, each plot will now include a title with the station name.</p>
<p><img alt="" src="../img/quickstart05.png" /></p>
<p>Ultimately you will want to save your plot to a file so you can include it in your report. In the plot settings, you can choose the output format. PNG files are a common bitmap format and can be included in most documents. The png format has its limitations when scaling up. The SVG format is a vectorized format and therefore does have the mentioned scaling limitations. However, it is not as widely importable in all graphics text processing software as the PNG format. Sometimes, SVG files are not completely rendered when imported. 
After choosing your preferred format, you have to select the save images option in the settings box of the sidebar. With this option active, Fontus generates an image file for each rendered plot. You can download the images of the last run using the <code>Download Image</code> button in the sidebar. The file is downloaded to your download folder and can be retrieved from there. If you have generated multiple plots by using the group plot by function, all imaged files will be summarized in a single zip file.</p>
<p><img alt="" src="../img/quickstart06.png" /></p>
<h3 id="use-of-markers">Use of Markers</h3>
<p>Markers are commonly divided into different groups by applying different colors, sizes, and shapes. Use the <code>Group legend by</code> option to define which field will be used. Station, aquifer, sampling event, year, or season are typical candidates. In our demo dataset, there is only a single field available for grouping, the station field. However, Fontus allows the calculation of various time aggregation fields based on the sample_date field. In the <code>Load Data</code> tab, check the checkboxes Year column, Month column, and Season column. </p>
<p>![](./img/quickstart07.png</p>
<p>The process of generating the columns will result in the addition of these fields to the imported data, making them accessible for grouping or filtering just like the imported data. For instance, you can select the year field in the Group Legend's selectbox and use {year} as the plot title to produce a separate plot for each year with available data.</p>
<p><img alt="" src="../img/quickstart08.png" /></p>
<p>To show different symbols for each year, set the <code>Group legend by</code> option to year. You may also define the markers. Fontus allows you to define a list of marker types, a color palette, and the number of colors from this palette. There are three ways to generate symbols automatically.
- Option 1 will cycle through symbol types first, then through the colors. Therefore the first marker will be a blue square, a blue circle, then a light blue square and a light blue circle, and so on, until there are no new codes for which markers must be generated. The result is shown below.
- Option 2 will cycle through colors first while holding the symbol constant. Once all colors have been used, the second marker type will be used, etc.
- Option 3 moves through symbols and colors simultaneously. Make sure that you have defined the same number of colors and symbols. This option is helpful if you know the number of markers needed. This number is not more significant than the list of defined symbol types and colors, as once markers have cycled through all colors, the same combination of type and color will be generated again. </p>
<p><img alt="" src="../img/quickstart09.png" /></p>
<h2 id="upload-your-own-data">Upload your own Data</h2>
<p>This chapter explains the steps for uploading and exploring your own dataset, which is the standard way of using this software once you know your way around. The current example uses a dataset from Liu et al and can be downloaded directly from https://lcalmbach.github.io/fontus-help/data/data_Liu_et_al_2021.csv, or from its original location https://github.com/jyangfsu/WQChartPy/blob/main/data/data_Liu_et_al_2021.csv. Store the file locally on your disk.</p>
<ol>
<li>Navigate to the <code>Load Data</code> tab.</li>
<li>Set the <code>Upload Data</code> radio button to upload the dataset.</li>
<li>Set the <code>Separator Character</code> to comma (,).</li>
<li>Drag and drop the saved data file on the <code>Upload CSV file</code> field.
<img alt="" src="../img/quickstart20.png" /></li>
<li>In the fields section, you may notice that a number of fields were detected as string-type fields and therefore assigned as <code>group-fields</code>. This does not have any impact on calculations, but it may unnecessarily
overload the filter section. Only the fields id and shortid have a limited number of distinct values and
therefore are good candidates for group-by fields. All other string fields (X, Y, Sy, Sm) may be set to the
Map the type as <code>None</code>. Also note that in the bottom section, you can select the default carbonate parameter. In natural water HCO<sub>3</sub><sup>-</sup> + CO<sub>3</sub><sup>--</sup> and Alkalinity should be very similar since Alkalinity is equal to: HCO<sub>3</sub><sup>-</sup> + CO<sub>3</sub><sup>--</sup> + OH<sup>-</sup> and some other species, present in very small concentrations in ambient water. Alkalinity should be expressed in mg/L as CaCO<sub>3</sub>.</li>
<li>Set the <code>Plot legend by</code> parameter to shortid</li>
<li>Navigate to the <code>Show Plot</code> tab and press the <code>Plot</code> button in the sidebar.</li>
<li>The following plot should show in the main window:</li>
</ol>
<p><img alt="" src="../img/quickstart21.png" /></p>
<p>This concludes the quickstart tutorial.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../about/" class="btn btn-neutral float-right" title="About Fontus">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../calculators/saturation_index/" class="btn btn-neutral" title="Saturation Index"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../calculators/saturation_index/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../about/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
