{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Fontus Discover your water quality data! The Piper plot is a standard visualization technique for the major ion composition of water analyses. Unfortunately, Piper diagrams cannot be constructed using standard graphics tools or libraries and therefore require specialized software. Fontus is an open-source web application that allows you to create beautiful Piper plots for free. Upload your water quality data with a simple drag and drop and start analyzing your data.","title":"Home"},{"location":"#fontus","text":"","title":"Fontus"},{"location":"#discover-your-water-quality-data","text":"The Piper plot is a standard visualization technique for the major ion composition of water analyses. Unfortunately, Piper diagrams cannot be constructed using standard graphics tools or libraries and therefore require specialized software. Fontus is an open-source web application that allows you to create beautiful Piper plots for free. Upload your water quality data with a simple drag and drop and start analyzing your data.","title":"Discover your water quality data!"},{"location":"about/","text":"About Fontus","title":"About Fontus"},{"location":"about/#about-fontus","text":"","title":"About Fontus"},{"location":"load_data/","text":"Load Data On this tab, the import settings for the demo dataset or for the uploaded data is shown and can be configured. By default the demo dataset is selected. If you want to explore the application using the demo dataset, no further action is required in this section. The Data radio-button allows to set the datasource to an imported file. Once the Upload dataset option is selected, various import options and an upload fields become visible. Field Description Separator character character seperating 2 fields Encoding file encoding Upload csv file drag the file from your local disk to this field in order to upload the file the Preview Data section shows the uploaded data. Use the Download data as CSV button below the table to download the file. This may be useful, if you want to download the demo dataset so you can use it as a template for format your own data before uploading it. For the current version, it is important to use the defined naming convention for your fields. Parameter Description Ca Calcium concentration in mg/L Mg Magnesium concentration in mg/L Na Sodium concentration in mg/L (K) Potassium in mg/L is not mandatory but if present, it will be added to the sodium concentration in the Piper diagram Cl Chloride concentration in mg/L SO4 Sulfate concentration in mg/L HCO3 or Alk Bicarbonate concentration in mg/L or alternatively alkalinity in mg/L CaCO3 (CO3) Carbonate concentration in mg/L is not mandatory but if found, it will be added to the bicarbonate concentration. The Fields section shows all fields found in the uploaded data and the default settings, that the system determines after the import. You can redefine the following fields. Fields Description Column name The column name is the name found in the imported file, it cannot be changed Label Label used in the plots and in tooltips. this will be more useful in future versions. The Piper plots uses fixed labels to label the ternary endpoints. Digits Number of digits for numeric parameters when shown in a tooltip. Map Columns may be mapped to system parameters, so the application understands the sgnificance of the data held in this column. Currently the following system parameters can be mapped: latitude, longitude, sample_date, ca, mg, k, cl, so4, hco3, co3, alk. Note that if you use these names as your column names in the uploaded file, the system will detect and map the paramters automatically. Type Data type for this column: str, float, int, datetime. String parameters will appear in the interface as filters and you will also be able to use them for the legend in the plot. The Generate time aggregation columns only appears, if a parameter has been mapped as the sample_date parameter. If this is the case, you may add one or multiple time aggregation columns: Year , Month , Season . Teese fields can later be used for filtering or as the legend in a Piper plot. A simplified algorithm is used where December to February are assigned to Winter, March to May to spring, June to August to summer and September to November to fall. Note that for dtermining the season based on the sampling date, you should define the hemisphere of the project area. For the Southern hemisphere, the seasons will be assigned as follows: December to February: summer, March to May: fall, June to August: winter, September to November: fall. Do not use this options, if your data already includes year month or season columns. Note that your data is not stored on the server. You will have to upload and configure your data for each new session.","title":"Load Data"},{"location":"load_data/#load-data","text":"On this tab, the import settings for the demo dataset or for the uploaded data is shown and can be configured. By default the demo dataset is selected. If you want to explore the application using the demo dataset, no further action is required in this section. The Data radio-button allows to set the datasource to an imported file. Once the Upload dataset option is selected, various import options and an upload fields become visible. Field Description Separator character character seperating 2 fields Encoding file encoding Upload csv file drag the file from your local disk to this field in order to upload the file the Preview Data section shows the uploaded data. Use the Download data as CSV button below the table to download the file. This may be useful, if you want to download the demo dataset so you can use it as a template for format your own data before uploading it. For the current version, it is important to use the defined naming convention for your fields. Parameter Description Ca Calcium concentration in mg/L Mg Magnesium concentration in mg/L Na Sodium concentration in mg/L (K) Potassium in mg/L is not mandatory but if present, it will be added to the sodium concentration in the Piper diagram Cl Chloride concentration in mg/L SO4 Sulfate concentration in mg/L HCO3 or Alk Bicarbonate concentration in mg/L or alternatively alkalinity in mg/L CaCO3 (CO3) Carbonate concentration in mg/L is not mandatory but if found, it will be added to the bicarbonate concentration. The Fields section shows all fields found in the uploaded data and the default settings, that the system determines after the import. You can redefine the following fields. Fields Description Column name The column name is the name found in the imported file, it cannot be changed Label Label used in the plots and in tooltips. this will be more useful in future versions. The Piper plots uses fixed labels to label the ternary endpoints. Digits Number of digits for numeric parameters when shown in a tooltip. Map Columns may be mapped to system parameters, so the application understands the sgnificance of the data held in this column. Currently the following system parameters can be mapped: latitude, longitude, sample_date, ca, mg, k, cl, so4, hco3, co3, alk. Note that if you use these names as your column names in the uploaded file, the system will detect and map the paramters automatically. Type Data type for this column: str, float, int, datetime. String parameters will appear in the interface as filters and you will also be able to use them for the legend in the plot. The Generate time aggregation columns only appears, if a parameter has been mapped as the sample_date parameter. If this is the case, you may add one or multiple time aggregation columns: Year , Month , Season . Teese fields can later be used for filtering or as the legend in a Piper plot. A simplified algorithm is used where December to February are assigned to Winter, March to May to spring, June to August to summer and September to November to fall. Note that for dtermining the season based on the sampling date, you should define the hemisphere of the project area. For the Southern hemisphere, the seasons will be assigned as follows: December to February: summer, March to May: fall, June to August: winter, September to November: fall. Do not use this options, if your data already includes year month or season columns. Note that your data is not stored on the server. You will have to upload and configure your data for each new session.","title":"Load Data"},{"location":"plot_settings/","text":"Plot Settings This tab allows overwriting the automatically generated plot settings for the Piper diagram. The form is devided in the more general plot settings and the marker settings. Plot Properties In the plot properties sections, you may define the following parameters: Option Description Plot title Title for the plot. If no title is needed, leave the fields empty. For grouped plots, you may include the group-by parameter in curly braces. For each plot, this expression will be replaced by the code for which the plot uses the data. Plot title font size Size of title font in em. Plot title alignment Define whether the title should be left-, center- or right-aligned Group plots by if your data contains strings or integer values with a limited number of distinct values, you may group the plots by such a field (e.g., station, geology, year, etc.). One plot will be created for each distinct value in the selected data column Group Legend by Define the field that would be used to have distinct markers. Plot width Width of plot in points Show grid Show or hide the grid lines. Grid lines can be hidden if the target diagram is small. Show tick labels Show or hide the tick labels. Tick labels may be hidden if the target diagram is small Tick label font size Select a larger font in points if the diagram needs to be scaled down. Axis label font size Select a larger font in points if the diagram needs to be scaled down. Image output format Select png for a bitmap format and SVG for a vectorized output. The SVG format is scaleable but is not as widely supported as the png format. Note that plot by and legend by grouping can be used in combination but different fields should be applied to each grouping. When using the same group field, each plot will contain only one marker. Marker Properties Fontus offers a wide range of symbols and colors to render the data on the plot: Option Description Marker size Marker color palette Marker generator algorithm Marker fill opacity Marker types Fontus plots are interactive; when hovering over markers, the corresponding data can be displayed in tooltips. In the tooltip section, you may narrow down which values would be displayed to prevent the tooltip from becoming overly overwhelming. Each field listed can be disabled. Note that the number of digits to be used in the tooltips is defined in the Load data section.","title":"Plot Settings"},{"location":"plot_settings/#plot-settings","text":"This tab allows overwriting the automatically generated plot settings for the Piper diagram. The form is devided in the more general plot settings and the marker settings.","title":"Plot Settings"},{"location":"plot_settings/#plot-properties","text":"In the plot properties sections, you may define the following parameters: Option Description Plot title Title for the plot. If no title is needed, leave the fields empty. For grouped plots, you may include the group-by parameter in curly braces. For each plot, this expression will be replaced by the code for which the plot uses the data. Plot title font size Size of title font in em. Plot title alignment Define whether the title should be left-, center- or right-aligned Group plots by if your data contains strings or integer values with a limited number of distinct values, you may group the plots by such a field (e.g., station, geology, year, etc.). One plot will be created for each distinct value in the selected data column Group Legend by Define the field that would be used to have distinct markers. Plot width Width of plot in points Show grid Show or hide the grid lines. Grid lines can be hidden if the target diagram is small. Show tick labels Show or hide the tick labels. Tick labels may be hidden if the target diagram is small Tick label font size Select a larger font in points if the diagram needs to be scaled down. Axis label font size Select a larger font in points if the diagram needs to be scaled down. Image output format Select png for a bitmap format and SVG for a vectorized output. The SVG format is scaleable but is not as widely supported as the png format. Note that plot by and legend by grouping can be used in combination but different fields should be applied to each grouping. When using the same group field, each plot will contain only one marker.","title":"Plot Properties"},{"location":"plot_settings/#marker-properties","text":"Fontus offers a wide range of symbols and colors to render the data on the plot: Option Description Marker size Marker color palette Marker generator algorithm Marker fill opacity Marker types Fontus plots are interactive; when hovering over markers, the corresponding data can be displayed in tooltips. In the tooltip section, you may narrow down which values would be displayed to prevent the tooltip from becoming overly overwhelming. Each field listed can be disabled. Note that the number of digits to be used in the tooltips is defined in the Load data section.","title":"Marker Properties"},{"location":"quick_start/","text":"Quick Start Exploring the demo dataset The demo dataset includes 54 samples from the groundwater monitoring network of Basel (Switzerland). The raw data can be found on the citie's Opendata portal . Inspecting the table and fields in the Load Data section you will note that the dataset includes a station-name, coordinates, sampling date and the major ions calcium magnesium, sodium, potassium, chloride, sulfate, bicarbonate and carbonate. The data table has basic interactivity features: By hovering over the header cells, you can change the column width and clicking on a header cell allows you to sort the table ascending and descending according to the voalues in this column. If you wish to inspect the data with your local editor or spreadsheet-software you can download the table by clicking the Download data as CSV button. To get an impression of the Piper diagram using the initial settings, navigate to thte Show Plot section and press the Plot button on above the Documentation link in the sidebar. You will see the following output: Hovering over the markers in the plot will display a tooltip with the values for this sample. This technique becomes difficult for markers, which are closely grouped or overlapping. In in this case, the zoom tool becomes handy: activate the icon in the toolbar to the right of the plot, then zoom into a section with overlapping symbols. In the resulting blow-up plot it is easy to select a single marker to verify the respective composition. To restore the original setting, press on the icon in the plots toolbox. Group by Plot Option To inspect analyses from a single station one by one, proceed as follows: In the filter box in the sidebar, select one or several stations. Then press plot again to display the diagram based on the filtered data. If you wish to inspect every single station you should use the Group plot by option from the Plot settings tab. Select station from the list of available group-by-fields to generate a separate plot for each expression found in the station. There are two ways of assigning a text to each diagram showing which station is represented. Use the title option and include the group-by-field within curly brackets. After pressing the Plot button again, each plot will now include a title with the station name. Ultimately you will want to save your plot to a file so you can include it in your report. In the plot settings you can choose the output format. PNG files are a common bitmap format and can be in included in most documents. The pnkg format has its limitations when scaling up. The SVG format is a vectorized format and therefore does have the scaling limitations. However, is is not as widely importable in all graphics text processing software as the PNG format. Sometimes, SVG files are not completely rendered when imported. After choosing your preferred format, you have to select the save images option in the settings box of the sidebar. With this option active, Fontus generates a image file for each rendered plot. You can download the images of the last run using the Download Image button in the sidebar. The file is downloaded to your download folder and can be retrieved from there. If you have generated multiple plots by using the group plot by function, all imaged files will be summarized in a single zip file. Use of Markers Markers are commonly divided into different groups by applying different colors, sizes and shapes. Use the Group legend by option to define which field will be used. Station, aquifer, sampling event, year or season are typical candidates. In our demo dataset there is only a single field available for grouping, the station field. However, Fontus allows to calculate various time aggregation fields based on the sample_date field. In the Load Data tab check the checkboxes Year column, Month column and Season column. This will generated the respective columns and add them to the imported data and these fields become available for grouping or filtering the same way as the imported data does. For example by selecting the year field in the Group Legend by selectbox and also using {year} as the plot title, one plot per year with available data will be rendered. To show different symbols for each year, set the Group legend by option to year. You may also define the markers. Fontus allows you to define a list of markder types as well as a color palette and number of colors from this palette. There are three ways to automatically generate symbols. For a If your marker-type list containing: square and a circle and the palette 4 colors of category20 (darkblue, lightblue, orange and beige): - Option 1 will cycle through symbol types first, then through the colors. Therefore the first marker will be a blue square, a blue circle, then a lightblue square and a lightblue circle and so on, until there are no new codes for which markers must be generated. The result is shown below. - Option 2 will cycle through colors first while holding the symbol constant. Once all colors have been used, the second marker type will be used etc. - Option 3 moves through symbols and colors simultaneously. Make sure that you have defined the same number of colors and symbols. This option is useful if you know the number of markers needed and this number is not larger than the list of defined symbol types and colors, as once markers have cycled through all colors, the same combination of type and color will be generated again. Upload your own Data This chapter explains the steps for uploading and exploring your own dataset, which is the standard way of using this software once you know your way around.","title":"Quick Start"},{"location":"quick_start/#quick-start","text":"","title":"Quick Start"},{"location":"quick_start/#exploring-the-demo-dataset","text":"The demo dataset includes 54 samples from the groundwater monitoring network of Basel (Switzerland). The raw data can be found on the citie's Opendata portal . Inspecting the table and fields in the Load Data section you will note that the dataset includes a station-name, coordinates, sampling date and the major ions calcium magnesium, sodium, potassium, chloride, sulfate, bicarbonate and carbonate. The data table has basic interactivity features: By hovering over the header cells, you can change the column width and clicking on a header cell allows you to sort the table ascending and descending according to the voalues in this column. If you wish to inspect the data with your local editor or spreadsheet-software you can download the table by clicking the Download data as CSV button. To get an impression of the Piper diagram using the initial settings, navigate to thte Show Plot section and press the Plot button on above the Documentation link in the sidebar. You will see the following output: Hovering over the markers in the plot will display a tooltip with the values for this sample. This technique becomes difficult for markers, which are closely grouped or overlapping. In in this case, the zoom tool becomes handy: activate the icon in the toolbar to the right of the plot, then zoom into a section with overlapping symbols. In the resulting blow-up plot it is easy to select a single marker to verify the respective composition. To restore the original setting, press on the icon in the plots toolbox.","title":"Exploring the demo dataset"},{"location":"quick_start/#group-by-plot-option","text":"To inspect analyses from a single station one by one, proceed as follows: In the filter box in the sidebar, select one or several stations. Then press plot again to display the diagram based on the filtered data. If you wish to inspect every single station you should use the Group plot by option from the Plot settings tab. Select station from the list of available group-by-fields to generate a separate plot for each expression found in the station. There are two ways of assigning a text to each diagram showing which station is represented. Use the title option and include the group-by-field within curly brackets. After pressing the Plot button again, each plot will now include a title with the station name. Ultimately you will want to save your plot to a file so you can include it in your report. In the plot settings you can choose the output format. PNG files are a common bitmap format and can be in included in most documents. The pnkg format has its limitations when scaling up. The SVG format is a vectorized format and therefore does have the scaling limitations. However, is is not as widely importable in all graphics text processing software as the PNG format. Sometimes, SVG files are not completely rendered when imported. After choosing your preferred format, you have to select the save images option in the settings box of the sidebar. With this option active, Fontus generates a image file for each rendered plot. You can download the images of the last run using the Download Image button in the sidebar. The file is downloaded to your download folder and can be retrieved from there. If you have generated multiple plots by using the group plot by function, all imaged files will be summarized in a single zip file.","title":"Group by Plot Option"},{"location":"quick_start/#use-of-markers","text":"Markers are commonly divided into different groups by applying different colors, sizes and shapes. Use the Group legend by option to define which field will be used. Station, aquifer, sampling event, year or season are typical candidates. In our demo dataset there is only a single field available for grouping, the station field. However, Fontus allows to calculate various time aggregation fields based on the sample_date field. In the Load Data tab check the checkboxes Year column, Month column and Season column. This will generated the respective columns and add them to the imported data and these fields become available for grouping or filtering the same way as the imported data does. For example by selecting the year field in the Group Legend by selectbox and also using {year} as the plot title, one plot per year with available data will be rendered. To show different symbols for each year, set the Group legend by option to year. You may also define the markers. Fontus allows you to define a list of markder types as well as a color palette and number of colors from this palette. There are three ways to automatically generate symbols. For a If your marker-type list containing: square and a circle and the palette 4 colors of category20 (darkblue, lightblue, orange and beige): - Option 1 will cycle through symbol types first, then through the colors. Therefore the first marker will be a blue square, a blue circle, then a lightblue square and a lightblue circle and so on, until there are no new codes for which markers must be generated. The result is shown below. - Option 2 will cycle through colors first while holding the symbol constant. Once all colors have been used, the second marker type will be used etc. - Option 3 moves through symbols and colors simultaneously. Make sure that you have defined the same number of colors and symbols. This option is useful if you know the number of markers needed and this number is not larger than the list of defined symbol types and colors, as once markers have cycled through all colors, the same combination of type and color will be generated again.","title":"Use of Markers"},{"location":"quick_start/#upload-your-own-data","text":"This chapter explains the steps for uploading and exploring your own dataset, which is the standard way of using this software once you know your way around.","title":"Upload your own Data"},{"location":"show_plot/","text":"Show Plot The plot is rerendered after each change in the data or plot settings. The plot view contains the following elements: 1) Filters: Each field marked as group-by in the data_load section apperas a multiselect box widget. When selecting on or several codes from the list, the data for the plot will be reduced to samples matching this code. 2) Diagram: The diagram shown in this box is interactive, when clicking on markers, the corrsponding values will be shown in a tooltip box. In order to define which values from the dataset are shown in the toolbox, use the tooltip section in the plot settings . 3) Bokeh toolbox The Toolbox allows controlling the user interactions with the daigram: Option Description Allows to pan Allows to pan Allows to pan Allows to pan Allows to pan Allows to pan Allows to pan 4) Data: 5) Download image:","title":"Show Plot"},{"location":"show_plot/#show-plot","text":"The plot is rerendered after each change in the data or plot settings. The plot view contains the following elements: 1) Filters: Each field marked as group-by in the data_load section apperas a multiselect box widget. When selecting on or several codes from the list, the data for the plot will be reduced to samples matching this code. 2) Diagram: The diagram shown in this box is interactive, when clicking on markers, the corrsponding values will be shown in a tooltip box. In order to define which values from the dataset are shown in the toolbox, use the tooltip section in the plot settings . 3) Bokeh toolbox The Toolbox allows controlling the user interactions with the daigram: Option Description Allows to pan Allows to pan Allows to pan Allows to pan Allows to pan Allows to pan Allows to pan 4) Data: 5) Download image:","title":"Show Plot"},{"location":"version_history/","text":"Version History 0.0.x (1.8.2021) Intial release","title":"Version history"},{"location":"version_history/#version-history","text":"","title":"Version History"},{"location":"version_history/#00x-182021","text":"Intial release","title":"0.0.x (1.8.2021)"}]}