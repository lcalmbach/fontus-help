<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://share.streamlit.io/lcalmbach/st-piper/app.py/plots/map/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Maps - Fontus</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Maps";
    var mkdocs_page_input_path = "plots\\map.md";
    var mkdocs_page_url = "/lcalmbach/st-piper/app.py/plots/map/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Fontus</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../data/data/">Data</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Plots</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../plots_intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../piper/">Piper</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Maps</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#plot-settings">Plot Settings</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#plot-properties">Plot Properties</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#marker-properties">Marker Properties</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tooltips">Tooltips</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#legend">Legend</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#proportional-marker-size-or-color">Proportional Marker Size or Color</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">analyses</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../analyses/intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../analyses/mann_kendall/">Mann Kendall</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Calculators</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../calculators/intro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../calculators/fmw_conversion/">Formula Weight Conversion</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../calculators/fmw_calculation/">Formula Weight Calculation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../calculators/sar/">Irrigation Water Quality</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../calculators/saturation_index/">Saturation Index</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../quick_start/">Tutorial</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../about/">About Fontus</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../version_history/">Release notes</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Fontus</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Plots &raquo;</li>
        
      
    
    <li>Maps</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="map-plot">Map plot</h1>
<p>Maps require that both the longitude and the latitude columns are present and mapped to the respective system parameters. Both parameters must be stored as decimal degrees values. Fontus can plot symbols from categorical data columns. Categorical parameters are variables that can take on a limited number of values, each representing a particular category. For example, settings the <code>Group Legend by</code> to a column 'geology' holding the values 'bedrock' and 'overburden' will display bedrock-wells and overburden-wells with different symbols. Continuous values can be plotted as proportional size or proportional color symbols using the <code>Proportional Marker Size or Color</code> section in the <code>Plot Settings</code>.</p>
<h2 id="plot-settings">Plot Settings</h2>
<p>This tab allows overwriting the automatically generated plot settings for the map diagram. The form includes the following sections: </p>
<ul>
<li><a href="#plot-properties">General plot settings</a></li>
<li><a href="#marker-properties">Markers</a></li>
<li><a href="#tooltips">Tooltips</a></li>
<li><a href="#legend">Legend</a></li>
<li><a href="#proportinal-marker-size-or-color]">Proportinal Marker Size or Color</a></li>
</ul>
<p><img alt="" src="../img/show_settings_piper01.png" /></p>
<h3 id="plot-properties">Plot Properties</h3>
<p>In the plot properties sections, you may define the following parameters:</p>
<p><strong>Plot Title:</strong> Allows setting a title for the plot. If no title is required, the fields can be left empty. For grouped plots, the user may include the <code>group-legend-by</code>-parameter-name in curly braces. For each plot, this expression will be replaced by the code for which the plot uses the data. |</p>
<p><strong>Plot Title Font Size:</strong> Size of title font in em.</p>
<p><strong>Plot Title Alignment:</strong> Define whether the title should be left-, center- or right-aligned.</p>
<p><strong>Group plots by:</strong> If your data contains strings or integer values with a limited number of distinct values, you may group the plots by such a field (e.g., station, geology, year, etc.). One plot will be created for each distinct value in the selected data column.</p>
<p><strong>Group Legend by:</strong> Define the field that would be used to appear in the legend with distinct markers. For example, if you select the station column in the demo dataset, each station will be represented with a distinct marker.</p>
<p><strong>Plot Width:</strong> Width of plot in points.</p>
<p><strong>Show Grid:</strong> Show or hide the grid lines. Grid lines can be hidden if the target diagram is small. |
<strong>Show Tick Labels:</strong> Show or hide the tick labels. Tick labels may be hidden if the target diagram is small.</p>
<p><strong>Tick Label Font Size:</strong> Select a larger font in points if the diagram needs to be scaled down.</p>
<p><strong>Axis Label Font Size:</strong> Select a larger font in points if the diagram needs to be scaled down.</p>
<p><strong>Image Output Format</strong> Select png for a bitmap format and SVG for a vectorized output. The SVG format is scaleable but is not as widely supported as the png format.</p>
<p>Note that plot by and legend by grouping can be used in combination, but different fields should be applied to each grouping. When using the same group field, each plot will contain only one marker.</p>
<h3 id="marker-properties">Marker Properties</h3>
<p>Markers are defined by the basic properties of type (circle, square, triangle, etc.), color, and size. </p>
<p><strong>Marker Size:</strong> size of the marker in points. All markers have the same size.</p>
<p><strong>Marker Color Palette:</strong>: Colors are assigned to markers through color palettes containing a list of colors. Fontus uses the <a href="https://docs.bokeh.org/en/latest/docs/reference/palettes.html">palettes</a> of the <a href="https://bokeh.org/">Bokeh</a> graphic library, used to render the Piper diagram. After selecting a palette, the selected palette is previewed below the selectbox.</p>
<p><strong>Number of Colors:</strong>: Most palettes include 11 or more colors. If marker colors are generated by cycling through the palette, fewer colors may be more convenient. The field <code>Number of Colors</code> can be used to limit the number of colors used from the defined palette.</p>
<p><strong>Default Color:</strong> If the user does not select a <code>Group Legend By</code> option, all data points are rendered using the same marker. Fontus uses the first marker type for the used symbol and the <code>Default Color</code> for the color of the default marker.</p>
<p><strong>Marker Generator Algorithm:</strong>: When selecting the <code>Group Legend By</code> option, markers are generated automatically by alternating the symbol and colors of each marker. The user may choose between three generators: 
- Cycle through marker types (circle, square, etc.) first using the first color of the palette. When the last symbol type is reached, use the next color and restart from the first marker type.
- Cycle through color type using the first marker type of the marker-type list. When the last color is reached, use the next marker type and restart from the first color.
- Cycle through color and marker types simultaneously. The number of marker types and colors should be equal. Make sure, for this mode that there are no more codes to be represented than there are combinations of color and markers, as otherwise, there would be identical markers for different codes.</p>
<p><img alt="" src="../img/plot_settings02.png" /></p>
<h3 id="tooltips">Tooltips</h3>
<p>When hovering over points on the plot, a tooltip will show information about the selected point. In this section, the user can define which fields to display in the tooltip box. Fontus selects by default the stationid (if available) and all fields, marked as lookup parameters as the tooltip.</p>
<p><img alt="" src="../img/plot_settings03.png" /></p>
<h3 id="legend">Legend</h3>
<p>The legend section allows the user to specify all properties related to the legend on the plot.</p>
<p><img alt="" src="../img/show_settings_piper01.png" /></p>
<p><strong>Legend Location:</strong>: Location where legend will show on the plot.
<strong>Border Line Width:</strong>: Width of borderline around the legend.
<strong>Border-Line Color:</strong>: Color of the borderline around the legend.
<strong>Border-Line Opacity:</strong>: Opacity of the border line: 0 = transparent, 1 = opaque.
<strong>Background Fill Color:</strong>: Background color of the box holding the legend.
<strong>Background Fill Opacity:</strong>: Opacity of the box holding the legend text.</p>
<h3 id="proportional-marker-size-or-color">Proportional Marker Size or Color</h3>
<p>Fontus allows users to render the size or the color of markers proportionally to the value of a numeric parameter. The examples below show the parameter total hardness.</p>
<p><img alt="" src="../img/map_prop_size.png" /></p>
<p>Proportional color example for parameter total hardness and color palette reds256:</p>
<p><img alt="" src="../img/map_prop_color.png" /></p>
<p><strong>Parameter:</strong> Parameter used for marker size or color calculation.
<strong>Minimum Value:</strong> All values for the selected parameter equal or smaller than the minimum value will either be displayed with the minimum radius or the first color in the selected color palette.
<strong>Maximum Value:</strong> All values for the selected parameter equal or greater than the maximum value will either be displayed with the maximum radius or the first color in the selected color palette.</p>
<p><strong>Method:</strong> Marker size method draws symbol size proportinal to a parameter, the marker color method adjusts the marker fill color proportional to a parameter. Some input parameters vary as a function of the selected method:</p>
<ul>
<li>
<p>Proportinal Size method:</p>
<p><strong>Minimum Size:</strong>: Marker size for the values equal or smaller than the minimum value in points.
<strong>Maximum Size:</strong>: Marker size for the values equal or greater than the maximum value.</p>
</li>
<li>
<p>Proportinal Color method:</p>
<p><strong>Color Palette:</strong>: Select one of the available 256-colors-palettes. Fontus will fill markers for samples with values equal to or smaller than the minimum value with the first color in this palette. Colors equal to or greater than the maximum value with take the last color. The proportional color index between 1 and 256 will be calculated for values between the minimum and the maximum value.</p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../analyses/intro/" class="btn btn-neutral float-right" title="Introduction">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../piper/" class="btn btn-neutral" title="Piper"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../piper/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../analyses/intro/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
